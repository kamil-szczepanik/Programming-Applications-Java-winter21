{"ast":null,"code":"var _jsxFileName = \"/home/michal/code/pap21l-z07/Clinic/src/main/frontend/my-app/src/components/DoctorRegisterComponent.js\";\nimport React, { Component } from 'react';\nimport AuthenticationService from '../services/AuthenticationService';\nimport RegistrationFormDoctor from '../components/RegistrationFormDoctor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst inputs = [{\n  name: \"firstName\",\n  placeholder: \"firstName\",\n  type: \"text\"\n}, {\n  name: \"lastName\",\n  placeholder: \"lastName\",\n  type: \"text\"\n}, {\n  name: \"email\",\n  placeholder: \"email\",\n  type: \"email\"\n}, {\n  name: \"password\",\n  placeholder: \"password\",\n  type: \"password\"\n}];\nconst props = {\n  name: 'loginForm',\n  method: 'POST',\n  action: '/perform_login',\n  inputs: inputs\n};\nconst params = new URLSearchParams(window.location.search);\n\nclass RegistrationComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      specialistation: '',\n      hasLoginFailed: false,\n      showSuccessMessage: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.loginClicked = this.loginClicked.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  loginClicked() {\n    AuthenticationService.executeBasicAuthenticationService(this.state.firstName, this.state.lastName, this.state.email, this.state.password).then(() => {\n      AuthenticationService.registerSuccessfulLogin(this.state.username, this.state.lastName, this.state.email, this.state.password);\n    }).catch(() => {\n      this.setState({\n        showSuccessMessage: false\n      });\n      this.setState({\n        hasLoginFailed: true\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(RegistrationFormDoctor, { ...props,\n        error: params.get('error')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default RegistrationComponent;","map":{"version":3,"sources":["/home/michal/code/pap21l-z07/Clinic/src/main/frontend/my-app/src/components/DoctorRegisterComponent.js"],"names":["React","Component","AuthenticationService","RegistrationFormDoctor","inputs","name","placeholder","type","props","method","action","params","URLSearchParams","window","location","search","RegistrationComponent","constructor","state","firstName","lastName","email","password","specialistation","hasLoginFailed","showSuccessMessage","handleChange","bind","loginClicked","event","setState","target","value","executeBasicAuthenticationService","then","registerSuccessfulLogin","username","catch","render","get"],"mappings":";AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,qBAAP,MAAkC,mCAAlC;AACA,OAAOC,sBAAP,MAAmC,sCAAnC;;;AAGA,MAAMC,MAAM,GAAG,CAAC;AACZC,EAAAA,IAAI,EAAE,WADM;AAEZC,EAAAA,WAAW,EAAE,WAFD;AAGZC,EAAAA,IAAI,EAAE;AAHM,CAAD,EAIX;AACAF,EAAAA,IAAI,EAAE,UADN;AAEAC,EAAAA,WAAW,EAAE,UAFb;AAGAC,EAAAA,IAAI,EAAE;AAHN,CAJW,EAQX;AACAF,EAAAA,IAAI,EAAE,OADN;AAEAC,EAAAA,WAAW,EAAE,OAFb;AAGAC,EAAAA,IAAI,EAAE;AAHN,CARW,EAYX;AACAF,EAAAA,IAAI,EAAE,UADN;AAEAC,EAAAA,WAAW,EAAE,UAFb;AAGAC,EAAAA,IAAI,EAAE;AAHN,CAZW,CAAf;AAkBA,MAAMC,KAAK,GAAG;AACVH,EAAAA,IAAI,EAAE,WADI;AAEVI,EAAAA,MAAM,EAAE,MAFE;AAGVC,EAAAA,MAAM,EAAE,gBAHE;AAIVN,EAAAA,MAAM,EAAEA;AAJE,CAAd;AAOA,MAAMO,MAAM,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAf;;AACA,MAAMC,qBAAN,SAAoCf,SAApC,CAA8C;AAE1CgB,EAAAA,WAAW,CAACT,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKU,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,EADF;AAETC,MAAAA,QAAQ,EAAC,EAFA;AAGTC,MAAAA,KAAK,EAAC,EAHG;AAITC,MAAAA,QAAQ,EAAE,EAJD;AAKTC,MAAAA,eAAe,EAAC,EALP;AAMTC,MAAAA,cAAc,EAAE,KANP;AAOTC,MAAAA,kBAAkB,EAAE;AAPX,KAAb;AAUA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAEDD,EAAAA,YAAY,CAACG,KAAD,EAAQ;AAChB,SAAKC,QAAL,CACI;AACI,OAACD,KAAK,CAACE,MAAN,CAAa1B,IAAd,GACMwB,KAAK,CAACE,MAAN,CAAaC;AAFvB,KADJ;AAMH;;AAEDJ,EAAAA,YAAY,GAAG;AAEZ1B,IAAAA,qBAAqB,CACf+B,iCADN,CACwC,KAAKf,KAAL,CAAWC,SADnD,EAC6D,KAAKD,KAAL,CAAWE,QADxE,EACiF,KAAKF,KAAL,CAAWG,KAD5F,EACmG,KAAKH,KAAL,CAAWI,QAD9G,EAEMY,IAFN,CAEW,MAAM;AACRhC,MAAAA,qBAAqB,CAACiC,uBAAtB,CAA8C,KAAKjB,KAAL,CAAWkB,QAAzD,EAAkE,KAAKlB,KAAL,CAAWE,QAA7E,EAAsF,KAAKF,KAAL,CAAWG,KAAjG,EAAuG,KAAKH,KAAL,CAAWI,QAAlH;AAEH,KALN,EAKQe,KALR,CAKc,MAAM;AACX,WAAKP,QAAL,CAAc;AAAEL,QAAAA,kBAAkB,EAAE;AAAtB,OAAd;AACA,WAAKK,QAAL,CAAc;AAAEN,QAAAA,cAAc,EAAE;AAAlB,OAAd;AACH,KARN;AAUF;;AACDc,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,6BACI,QAAC,sBAAD,OAA4B9B,KAA5B;AAAmC,QAAA,KAAK,EAAEG,MAAM,CAAC4B,GAAP,CAAW,OAAX;AAA1C;AAAA;AAAA;AAAA;AAAA;AADJ,qBADJ;AAKH;;AA/CyC;;AAkD9C,eAAevB,qBAAf","sourcesContent":["\n\nimport React, { Component } from 'react';\nimport AuthenticationService from '../services/AuthenticationService';\nimport RegistrationFormDoctor from '../components/RegistrationFormDoctor';\n\n\nconst inputs = [{\n    name: \"firstName\",\n    placeholder: \"firstName\",\n    type: \"text\"\n  },{\n    name: \"lastName\",\n    placeholder: \"lastName\",\n    type: \"text\"\n  },{\n    name: \"email\",\n    placeholder: \"email\",\n    type: \"email\"\n  },{\n    name: \"password\",\n    placeholder: \"password\",\n    type: \"password\"\n  }]\n  \nconst props = {\n    name: 'loginForm',\n    method: 'POST',\n    action: '/perform_login',\n    inputs: inputs\n  }\n  \nconst params = new URLSearchParams(window.location.search)\nclass RegistrationComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            firstName: '',\n            lastName:'',\n            email:'',\n            password: '',\n            specialistation:'',\n            hasLoginFailed: false,\n            showSuccessMessage: false\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.loginClicked = this.loginClicked.bind(this)\n    }\n\n    handleChange(event) {\n        this.setState(\n            {\n                [event.target.name]\n                    : event.target.value\n            }\n        )\n    }\n\n    loginClicked() {\n\n       AuthenticationService\n            .executeBasicAuthenticationService(this.state.firstName,this.state.lastName,this.state.email, this.state.password)\n            .then(() => {\n                AuthenticationService.registerSuccessfulLogin(this.state.username,this.state.lastName,this.state.email,this.state.password)\n\n            }).catch(() => {\n                this.setState({ showSuccessMessage: false })\n                this.setState({ hasLoginFailed: true })\n            })\n\n    }\n    render(){\n        return(\n            <>\n                <RegistrationFormDoctor {...props} error={params.get('error')} />\n            </>\n        )\n    }\n}\n\nexport default RegistrationComponent"]},"metadata":{},"sourceType":"module"}