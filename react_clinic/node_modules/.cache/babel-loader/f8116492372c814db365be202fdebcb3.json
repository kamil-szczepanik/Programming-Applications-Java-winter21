{"ast":null,"code":"var _jsxFileName = \"/home/michal/code/pap21l-z07/Clinic/src/main/frontend/my-app/src/Input.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Input extends Component {\n  constructor(props) {\n    super(props);\n\n    this.inputChange = event => {\n      const value = event.target.value,\n            name = event.target.name; //switch(name) {\n      //  case 'username': this.validate(name, value, /^([a-zA-Z0-9.]{4,})$/, 'invalid username')\n      //    break;\n      //  case 'password': this.validate(name, value, /^(?=.*[A-Z])(?=.*[0-9])(?=.*[a-z]).{6,}$/, 'insecure password')\n      //    break;\n      //  default:\n      //    console.warn(`unknown field ${name}`)\n      //}\n\n      this.setState({\n        value: value\n      });\n    };\n\n    this.validate = (name, value, validRegex, warnmsg) => {\n      const invalid = !value || !validRegex.test(value);\n\n      if (!this.state.error && invalid) {\n        this.setState({\n          className: 'input-error',\n          error: true\n        });\n        this.handleError(name, warnmsg);\n      } else if (this.state.error && !invalid) {\n        this.setState({\n          className: '',\n          error: false\n        });\n        this.handleError(name);\n      }\n    };\n\n    this.state = {\n      value: props.value ? props.value : '',\n      className: props.className ? props.className : '',\n      error: false\n    };\n  }\n\n  render() {\n    const {\n      handleError,\n      ...opts\n    } = this.props;\n    this.handleError = handleError;\n    return /*#__PURE__*/_jsxDEV(\"input\", { ...opts,\n      value: this.state.value,\n      onChange: this.inputChange,\n      className: this.state.className\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nInput.propTypes = {\n  name: PropTypes.string,\n  placeholder: PropTypes.string,\n  type: PropTypes.string,\n  className: PropTypes.string,\n  handleError: PropTypes.func,\n  value: PropTypes.string\n};\nexport default Input;","map":{"version":3,"sources":["/home/michal/code/pap21l-z07/Clinic/src/main/frontend/my-app/src/Input.js"],"names":["React","Component","PropTypes","Input","constructor","props","inputChange","event","value","target","name","setState","validate","validRegex","warnmsg","invalid","test","state","error","className","handleError","render","opts","propTypes","string","placeholder","type","func"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;;AAEA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAC1BG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAShBC,WATgB,GASDC,KAAD,IAAW;AACvB,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AAAA,YAAkCE,IAAI,GAAGH,KAAK,CAACE,MAAN,CAAaC,IAAtD,CADuB,CAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAKC,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAEA;AAAT,OAAd;AACD,KApBe;;AAAA,SAsBhBI,QAtBgB,GAsBL,CAACF,IAAD,EAAOF,KAAP,EAAcK,UAAd,EAA0BC,OAA1B,KAAsC;AAC/C,YAAMC,OAAO,GAAG,CAACP,KAAD,IAAU,CAACK,UAAU,CAACG,IAAX,CAAgBR,KAAhB,CAA3B;;AACA,UAAG,CAAC,KAAKS,KAAL,CAAWC,KAAZ,IAAqBH,OAAxB,EAAiC;AAC/B,aAAKJ,QAAL,CAAc;AAAEQ,UAAAA,SAAS,EAAE,aAAb;AAA4BD,UAAAA,KAAK,EAAE;AAAnC,SAAd;AACA,aAAKE,WAAL,CAAiBV,IAAjB,EAAuBI,OAAvB;AACD,OAHD,MAGM,IAAG,KAAKG,KAAL,CAAWC,KAAX,IAAoB,CAACH,OAAxB,EAAiC;AACrC,aAAKJ,QAAL,CAAc;AAAEQ,UAAAA,SAAS,EAAE,EAAb;AAAiBD,UAAAA,KAAK,EAAE;AAAxB,SAAd;AACA,aAAKE,WAAL,CAAiBV,IAAjB;AACD;AACF,KA/Be;;AAEd,SAAKO,KAAL,GAAa;AACXT,MAAAA,KAAK,EAAEH,KAAK,CAACG,KAAN,GAAaH,KAAK,CAACG,KAAnB,GAA2B,EADvB;AAEXW,MAAAA,SAAS,EAAEd,KAAK,CAACc,SAAN,GAAiBd,KAAK,CAACc,SAAvB,GAAmC,EAFnC;AAGXD,MAAAA,KAAK,EAAE;AAHI,KAAb;AAKD;;AA0BDG,EAAAA,MAAM,GAAG;AACP,UAAM;AAACD,MAAAA,WAAD;AAAc,SAAGE;AAAjB,QAAyB,KAAKjB,KAApC;AACA,SAAKe,WAAL,GAAmBA,WAAnB;AACA,wBACE,sBAAWE,IAAX;AAAiB,MAAA,KAAK,EAAE,KAAKL,KAAL,CAAWT,KAAnC;AAA0C,MAAA,QAAQ,EAAE,KAAKF,WAAzD;AAAsE,MAAA,SAAS,EAAE,KAAKW,KAAL,CAAWE;AAA5F;AAAA;AAAA;AAAA;AAAA,YADF;AAGD;;AAxCuB;;AA2C9BhB,KAAK,CAACoB,SAAN,GAAkB;AAChBb,EAAAA,IAAI,EAAER,SAAS,CAACsB,MADA;AAEhBC,EAAAA,WAAW,EAAEvB,SAAS,CAACsB,MAFP;AAGhBE,EAAAA,IAAI,EAAExB,SAAS,CAACsB,MAHA;AAIhBL,EAAAA,SAAS,EAAEjB,SAAS,CAACsB,MAJL;AAKhBJ,EAAAA,WAAW,EAAElB,SAAS,CAACyB,IALP;AAMhBnB,EAAAA,KAAK,EAAEN,SAAS,CAACsB;AAND,CAAlB;AAQA,eAAerB,KAAf","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass Input extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n          value: props.value? props.value : '',\n          className: props.className? props.className : '',\n          error: false\n        }\n      }\n    \n      inputChange = (event) => {\n        const value = event.target.value, name = event.target.name\n        //switch(name) {\n        //  case 'username': this.validate(name, value, /^([a-zA-Z0-9.]{4,})$/, 'invalid username')\n        //    break;\n        //  case 'password': this.validate(name, value, /^(?=.*[A-Z])(?=.*[0-9])(?=.*[a-z]).{6,}$/, 'insecure password')\n        //    break;\n        //  default:\n        //    console.warn(`unknown field ${name}`)\n        //}\n        this.setState({ value: value })\n      }\n    \n      validate = (name, value, validRegex, warnmsg) => {\n        const invalid = !value || !validRegex.test(value)\n        if(!this.state.error && invalid) {\n          this.setState({ className: 'input-error', error: true })\n          this.handleError(name, warnmsg)\n        }else if(this.state.error && !invalid) {\n          this.setState({ className: '', error: false })\n          this.handleError(name)\n        }\n      }\n    \n      render (){\n        const {handleError, ...opts} = this.props\n        this.handleError = handleError\n        return (\n          <input {...opts} value={this.state.value} onChange={this.inputChange} className={this.state.className} /> \n        )\n      }\n    }\n    \nInput.propTypes = {\n  name: PropTypes.string,\n  placeholder: PropTypes.string,\n  type: PropTypes.string,\n  className: PropTypes.string,\n  handleError: PropTypes.func,\n  value: PropTypes.string\n}\nexport default Input"]},"metadata":{},"sourceType":"module"}