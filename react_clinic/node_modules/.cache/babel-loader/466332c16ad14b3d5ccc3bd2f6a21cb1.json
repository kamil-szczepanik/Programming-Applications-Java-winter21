{"ast":null,"code":"var _jsxFileName = \"/home/michal/code/pap21l-z07/Clinic/src/main/frontend/my-app/src/components/DoctorRegisterComponent.js\";\nimport React from 'react';\nimport props from 'prop-types';\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { BrowserRouter, Route, NavLink, Switch } from 'react-router-dom';\nimport specialisationService from '../services/specialistionService';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass DoctorRegisterComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.choosenSpecialisation === \"\") {\n        return alert('Wybierz specjalizację');\n      }\n\n      const USERTOKEN = window.response.accessToken;\n      let config = {\n        headers: {\n          'Authorization': `Bearer ${USERTOKEN}`,\n          'Access-Control-Allow-Origin': 'http://localhost:3000/'\n        }\n      };\n      axios.post('http://localhost:8080/api/registration/registerDoctorAsAdmin', {\n        \"firstName\": this.state.firstName,\n        \"lastName\": this.state.lastName,\n        \"email\": this.state.email,\n        \"doctorSpecialisation\": this.state.choosenSpecialisation\n      }).then(response => {\n        console.log(response);\n        alert(\"Pomyślnie dodano doktora!\");\n        this.props.history.push('/myProfile');\n      }).catch(error => {\n        alert(\"Nie udało się dodać doktora!\");\n        this.props.history.push('/myProfile');\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      specialisations: [],\n      choosenSpecialisation: '',\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\"\n    };\n  }\n\n  componentDidMount() {\n    specialisationService.getSpecialisation().then(response => {\n      this.setState({\n        specialisations: response.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mt-5\",\n        children: \"Rejestracja doktora\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 m-auto mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fname\",\n              className: \"col-md-4 col-form-label text-md-end\",\n              children: \"Imie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 my-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                value: this.state.firstName,\n                onChange: e => this.setState({\n                  firstName: e.target.value\n                }),\n                type: \"text\",\n                id: \"fname\",\n                name: \"fname\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"lname\",\n              className: \"col-md-4 col-form-label text-md-end\",\n              children: \"Nazwisko\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 my-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                value: this.state.lastName,\n                onChange: e => this.setState({\n                  lastName: e.target.value\n                }),\n                type: \"text\",\n                id: \"lname\",\n                name: \"lname\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fname\",\n              className: \"col-md-4 col-form-label text-md-end\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 my-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                value: this.state.email,\n                onChange: e => this.setState({\n                  email: e.target.value\n                }),\n                type: \"email\",\n                id: \"email\",\n                name: \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-md-4 col-form-label text-md-end\",\n              for: \"specialisations\",\n              children: \"Specjalizacja:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 my-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                name: \"specialisations\",\n                id: \"specialisations\",\n                onChange: e => this.setState({\n                  choosenSpecialisation: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Wybierz specializacj\\u0119\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 21\n                }, this), this.state.specialisations.map(specialisation => {\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: specialisation,\n                      children: specialisation\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 35\n                    }, this)\n                  }, void 0, false);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-light btn-lg mt-3\",\n            type: \"submit\",\n            children: \"Zarejestruj\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DoctorRegisterComponent;","map":{"version":3,"sources":["/home/michal/code/pap21l-z07/Clinic/src/main/frontend/my-app/src/components/DoctorRegisterComponent.js"],"names":["React","props","Redirect","useHistory","BrowserRouter","Route","NavLink","Switch","specialisationService","axios","DoctorRegisterComponent","Component","constructor","handleSubmit","event","preventDefault","state","choosenSpecialisation","alert","USERTOKEN","window","response","accessToken","config","headers","post","firstName","lastName","email","then","console","log","history","push","catch","error","specialisations","componentDidMount","getSpecialisation","setState","data","render","e","target","value","map","specialisation"],"mappings":"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","sourcesContent":["import React from 'react';\nimport props from 'prop-types';\nimport {Redirect, useHistory} from \"react-router-dom\";\nimport { BrowserRouter, Route,NavLink, Switch } from 'react-router-dom';\nimport specialisationService from '../services/specialistionService';\nimport axios from 'axios';\nclass DoctorRegisterComponent extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n           specialisations:[],\n           choosenSpecialisation:'',\n           firstName:\"\",\n           lastName:\"\",\n           email:\"\",\n        }\n    }\n\n    componentDidMount(){\n     \n        specialisationService.getSpecialisation().then((response)=>{\n            this.setState({specialisations: response.data})\n        });\n    }\n    \n    handleSubmit=(event)=>{\n        event.preventDefault()\n\n        if(this.state.choosenSpecialisation===\"\"){\n            return alert('Wybierz specjalizację');\n        }\n\n\n        const USERTOKEN = window.response.accessToken;\n        let config = {\n            headers:{\n                'Authorization': `Bearer ${USERTOKEN}`,\n                'Access-Control-Allow-Origin':'http://localhost:3000/'}\n            }\n\n            axios.post('http://localhost:8080/api/registration/registerDoctorAsAdmin', {\"firstName\":this.state.firstName,\n        \"lastName\":this.state.lastName,\n        \"email\":this.state.email,\n        \"doctorSpecialisation\":this.state.choosenSpecialisation})\n            .then(response =>{\n                console.log(response)\n                alert(\"Pomyślnie dodano doktora!\")\n                this.props.history.push('/myProfile')\n            })\n            .catch(error=>{\n                alert(\"Nie udało się dodać doktora!\")\n                this.props.history.push('/myProfile')\n\n                console.log(error)\n            })\n        \n    }\n    render(){\n        return(\n            <div className=\"container\">\n                <h1 className = \"mt-5\">Rejestracja doktora</h1>\n                <div className=\"col-md-8 m-auto mt-3\">\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"row form-group\">\n                    <label htmlFor=\"fname\" className=\"col-md-4 col-form-label text-md-end\">Imie</label>\n                    <div className=\"col-md-6 my-auto\">\n                    <input className=\"form-control\" value={this.state.firstName} onChange={(e)=>this.setState({firstName:e.target.value})} type=\"text\" id=\"fname\" name=\"fname\"/>\n                    </div>\n                    </div>\n                    <div className=\"row form-group\">\n                    <label htmlFor=\"lname\" className=\"col-md-4 col-form-label text-md-end\">Nazwisko</label>\n                    <div className=\"col-md-6 my-auto\">\n                    <input className=\"form-control\" value={this.state.lastName} onChange={(e)=>this.setState({lastName:e.target.value})} type=\"text\" id=\"lname\" name=\"lname\"/>\n                    </div>\n                    </div>\n                    <div className=\"row form-group\">\n\n                    <label htmlFor=\"fname\" className=\"col-md-4 col-form-label text-md-end\">Email:</label>\n                    <div className=\"col-md-6 my-auto\">\n                    <input className=\"form-control\" value={this.state.email} onChange={(e)=>this.setState({email:e.target.value})} type=\"email\" id=\"email\" name=\"email\"/>\n                    </div>\n                    </div>\n                    <div className=\"row form-group\">\n                    <label className=\"col-md-4 col-form-label text-md-end\" for=\"specialisations\">Specjalizacja:</label>\n                    <div className=\"col-md-6 my-auto\">\n                    <select className=\"form-select\" name=\"specialisations\" id=\"specialisations\" onChange={(e)=>this.setState({choosenSpecialisation:e.target.value})}>\n                    <option value=\"\">Wybierz specializację</option>\n\n                       {this.state.specialisations.map((specialisation)=>{\n                           return(\n                               <>\n                                  <option value={specialisation}>{specialisation}</option>\n                               </>\n                           )\n                       })}\n                    </select>\n                    </div>\n                    </div>\n\n                    <button className=\"btn btn-outline-light btn-lg mt-3\" type=\"submit\">Zarejestruj</button>\n                </form>\n                </div>\n            </div>\n        )\n        \n    }\n\n        \n}\n\n\nexport default DoctorRegisterComponent;"]},"metadata":{},"sourceType":"module"}